<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">
    <bean id="sulMARCProcessor" class="edu.stanford.irt.eresources.marc.SulMARCRecordEresourceProcessor">
        <constructor-arg ref="eresourceHandler"/>
        <constructor-arg>
            <bean class="edu.stanford.irt.eresources.marc.KeywordsStrategy">
                <constructor-arg ref="authTextAugmentation"/>
                <constructor-arg>
                    <null />
                </constructor-arg>
            </bean>
        </constructor-arg>
        <constructor-arg>
            <bean class="edu.stanford.irt.eresources.marc.RecordCollectionFactory">
                <constructor-arg ref="sulCatalogRecordService"/>
            </bean>
        </constructor-arg>
        <constructor-arg>
            <bean class="edu.stanford.irt.eresources.marc.SulTypeFactory">
                <constructor-arg ref="sulCatalogRecordService"/>
            </bean>
        </constructor-arg>
        <constructor-arg name="acceptableAgeInYears" value="10"/>
        <constructor-arg name="acceptableLCCallNumberPrefixes">
            <list>
                <value>BF</value>
                <value>GE</value>
                <value>Q</value>
                <value>R</value>
                <value>TA</value>
                <value>TC</value>
                <value>TD</value>
                <value>TE</value>
                <value>TJ</value>
                <value>TK</value>
                <value>TL</value>
                <value>TP</value>
                <value>TR</value>
                <value>TS</value>
                <value>TT</value>
                <value>TX</value>
            </list>
        </constructor-arg>
        <!-- DB call number maps from https://github.com/sul-dlss/solrmarc-sw/blob/master/stanford-sw/translation_maps/db_subjects_map.properties -->
        <constructor-arg name="acceptableDBCallNumbers">
            <list>
                <value>BF</value>
                <value>Q</value>
                <value>QA</value>
                <value>QB</value>
                <value>QC</value>
                <value>QD</value>
                <value>QE</value>
                <value>QH</value>
                <value>QK</value>
                <value>QL</value>
                <value>QM</value>
                <value>QP</value>
                <value>QR</value>
                <value>R</value>
                <value>RA</value>
                <value>RB</value>
                <value>RC</value>
                <value>RD</value>
                <value>RE</value>
                <value>RF</value>
                <value>RG</value>
                <value>RJ</value>
                <value>RK</value>
                <value>RL</value>
                <value>RM</value>
                <value>RS</value>
                <value>RT</value>
                <value>RV</value>
                <value>RX</value>
                <value>RZ</value>
                <value>T</value>
                <value>TA</value>
                <value>TC</value>
                <value>TD</value>
                <value>TE</value>
                <value>TJ</value>
                <value>TK</value>
                <value>TL</value>
                <value>TP</value>
                <value>TR</value>
                <value>TS</value>
                <value>TT</value>
                <value>TX</value>
                <value>XJ</value>
                <value>XL</value>
            </list>
        </constructor-arg>
        <constructor-arg ref="laneDedupAugmentation"/>
    </bean>
    <bean id="authTextAugmentation" class="edu.stanford.irt.eresources.marc.AuthTextAugmentation">
        <constructor-arg ref="${eresources.remoteServiceProtocol}AuthTextAugmentationsService"/>
    </bean>
    <bean id="httpAuthTextAugmentationsService" class="edu.stanford.irt.eresources.marc.HTTPAugmentationsService">
        <constructor-arg ref="objectMapper"/>
        <constructor-arg ref="catalogServiceURI"/>
        <constructor-arg value="augmentations/auth"/>
    </bean>
    <bean id="jdbcAuthTextAugmentationsService" class="edu.stanford.irt.eresources.marc.JDBCAuthTextAugmentationsService">
        <constructor-arg ref="voyagerDataSource"/>
    </bean>
    <bean id="laneDedupAugmentation" class="edu.stanford.irt.eresources.marc.LaneDedupAugmentation">
        <!--  TODO:  <constructor-arg ref="${eresources.remoteServiceProtocol}LaneDedupAugmentationService"/> -->
        <constructor-arg ref="jdbcLaneDedupAugmentationService"/>
        <constructor-arg name="manualSkips">
            <set>
                <!-- example excluding one of SUL's PubMed records that's not excluded otherwise -->
                <value>catkey->3965020</value>
            </set>
        </constructor-arg>
    </bean>
    <bean id="jdbcLaneDedupAugmentationService" class="edu.stanford.irt.eresources.marc.JDBCLaneDedupAugmentationsService">
        <constructor-arg ref="voyagerDataSource"/>
    </bean>
    <!-- TODO: implement /laneDedup endpoint in catalog-service project and change laneDedupAugmentation above
    <bean id="httpLaneDedupAugmentationService" class="edu.stanford.irt.eresources.marc.HTTPAugmentationsService">
        <constructor-arg ref="objectMapper"/>
        <constructor-arg ref="catalogServiceURI"/>
        <constructor-arg value="augmentations/laneDedup"/>
    </bean>
     -->
</beans>
