<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"     xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

	 <bean id="solrLoader" class="edu.stanford.irt.eresources.SolrVideosReload" parent="abstractSolrLoader">
    		<property name="processors">
			<list>
				 <ref bean="joveProcessor" /> 
			</list>
        </property>
    </bean>
    

	<bean id="joveProcessor" class="edu.stanford.irt.eresources.sax.videos.jove.JoveEresourceProcessor">
		<property name="contentHandler" ref="joveTransformer" />
		<property name="URLs">
			<list>
		    	<value>http://www.jove.com/biology?page=1</value> 
				<value>http://www.jove.com/neuro?page=1</value> 
				<value>http://www.jove.com/med?page=1</value> 
				<value>http://www.jove.com/bioengineering?page=1</value> 
			 	<value>http://www.jove.com/i2?page=1</value> 
				<value>http://www.jove.com/behavior?page=1</value> 
				<value>http://www.jove.com/devbio?page=1</value> 
			</list>
		</property>
		<property name="nextPageExpression">
			<value>//a[@class='pagination next']/@href</value>
		</property>
	</bean>
	
	<bean id="joveTransformer" class="edu.stanford.lane.catalog.impl.xml.FilteringXSLTTransformer" init-method="init">
		<property name="stylesheet" value="classpath://edu/stanford/irt/eresources/videos/jove2er.xsl" />
		<property name="transformerFactory" value="net.sf.saxon.TransformerFactoryImpl" />
		 <property name="namespace" value=""/>
        <property name="element" value="eresources"/>
		<property name="contentHandler" ref="joveBuilder" />
	</bean>

	<bean id="joveBuilder" class="edu.stanford.irt.eresources.sax.videos.jove.JoveEresourceBuilder">
		<property name="eresourceHandler" ref="eresourceHandler" />
		<property name="descriptionExpression">
			<value>//div[@id='section_body_abstract']/p</value>
		</property>
		<property name="yearExpression">
			<value>//div[@id='section_body_summary']/p/strong[contains(text(), 'Date Published')]/ancestor::p/text()[1]</value>
		</property>
	</bean>

	<import resource="video-reload.xml"/>
	
</beans>

