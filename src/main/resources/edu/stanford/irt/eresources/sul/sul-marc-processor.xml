<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">
    <bean id="sulMARCProcessor" class="edu.stanford.irt.eresources.marc.SulMARCRecordEresourceProcessor">
        <constructor-arg ref="eresourceHandler"/>
        <constructor-arg>
            <bean class="edu.stanford.irt.eresources.marc.KeywordsStrategy">
                <constructor-arg ref="authTextAugmentation"/>
                <constructor-arg>
                    <null />
                </constructor-arg>
            </bean>
        </constructor-arg>
        <constructor-arg>
            <bean class="edu.stanford.irt.eresources.marc.RecordCollectionFactory">
                <constructor-arg ref="sulFileCatalogRecordService"/>
            </bean>
        </constructor-arg>
        <constructor-arg>
            <bean class="edu.stanford.irt.eresources.marc.SulTypeFactory"/>
        </constructor-arg>
        <constructor-arg name="acceptableLCCallNumberPrefixes">
            <list>
                <value>GE</value>
                <value>Q</value>
                <value>R</value>
                <value>Z</value>
                <value>H</value>
                <value>BF</value>
                <value>BJ</value>
                <value>LB</value>
                <value>LC</value>
                <value>A</value>
            </list>
        </constructor-arg>
        <!-- DB call number maps from https://github.com/sul-dlss/solrmarc-sw/blob/master/stanford-sw/translation_maps/db_subjects_map.properties -->
        <constructor-arg name="acceptableDBCallNumbers">
            <list>
                <value>R</value>
                <value>RA</value>
                <value>RB</value>
                <value>RC</value>
                <value>RD</value>
                <value>RE</value>
                <value>RF</value>
                <value>RG</value>
                <value>RJ</value>
                <value>RK</value>
                <value>RL</value>
                <value>RM</value>
                <value>RS</value>
                <value>RT</value>
                <value>RV</value>
                <value>RX</value>
                <value>RZ</value>
                <value>Q</value>
                <value>QA</value>
                <value>QB</value>
                <value>QC</value>
                <value>QD</value>
                <value>QE</value>
                <value>QH</value>
                <value>QK</value>
                <value>QL</value>
                <value>QM</value>
                <value>QP</value>
                <value>QR</value>
                <value>Z</value>
                <value>ZA</value>
                <value>H</value>
                <value>HA</value>
                <value>HB</value>
                <value>HC</value>
                <value>HD</value>
                <value>HE</value>
                <value>HF</value>
                <value>HG</value>
                <value>HJ</value>
                <value>HM</value>
                <value>HN</value>
                <value>HQ</value>
                <value>HS</value>
                <value>HT</value>
                <value>HV</value>
                <value>HX</value>
                <value>BF</value>
                <value>BJ</value>
                <value>LB</value>
                <value>LC</value>
                <value>A</value>
                <value>AC</value>
                <value>AE</value>
                <value>AG</value>
                <value>AI</value>
                <value>AM</value>
                <value>AN</value>
                <value>AP</value>
                <value>AS</value>
                <value>AY</value>
                <value>AZ</value>
            </list>
        </constructor-arg>
        <constructor-arg ref="laneDedupAugmentation"/>
    </bean>
    <bean id="authTextAugmentation" class="edu.stanford.irt.eresources.marc.AuthTextAugmentation">
        <constructor-arg ref="${eresources.remoteServiceProtocol}AuthTextAugmentationsService"/>
    </bean>
    <bean id="httpAuthTextAugmentationsService" class="edu.stanford.irt.eresources.marc.HTTPAugmentationsService">
        <constructor-arg ref="objectMapper"/>
        <constructor-arg ref="catalogServiceURI"/>
        <constructor-arg value="augmentations/auth"/>
    </bean>
    <bean id="jdbcAuthTextAugmentationsService" class="edu.stanford.irt.eresources.marc.JDBCAuthTextAugmentationsService">
        <constructor-arg ref="voyagerDataSource"/>
    </bean>
    <bean id="laneDedupAugmentation" class="edu.stanford.irt.eresources.marc.LaneDedupAugmentation">
        <constructor-arg name="augmentationsFile" value="${eresources.data.basepath}/dedup-augmentations.obj"/>
        <constructor-arg ref="${eresources.remoteServiceProtocol}LaneDedupAugmentationService"/>
        <constructor-arg name="manualSkips">
            <set>
                <!-- example excluding one of SUL's PubMed records that's not excluded otherwise -->
                <value>catkey->3965020</value>
            </set>
        </constructor-arg>
    </bean>
    <bean id="jdbcLaneDedupAugmentationService" class="edu.stanford.irt.eresources.marc.JDBCLaneDedupAugmentationsService">
        <constructor-arg ref="voyagerDataSource"/>
    </bean>
    <bean id="httpLaneDedupAugmentationService" class="edu.stanford.irt.eresources.marc.HTTPAugmentationsService">
        <constructor-arg ref="objectMapper"/>
        <constructor-arg ref="catalogServiceURI"/>
        <constructor-arg value="augmentations/dedup"/>
    </bean>
</beans>
